<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Promise Example</title>
<style>
  table {
    width: 50%;
    margin: 20px auto;
    border-collapse: collapse;
  }
  th, td {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
  }
</style>
</head>
<body>

<table>
  <thead>
    <tr>
      <th>Promise</th>
      <th>Time Taken (s)</th>
    </tr>
  </thead>
  <tbody id="output">
    <!-- Loading rows will be added dynamically -->
    <tr id="loading">
      <td colspan="2">Loading...</td>
    </tr>
  </tbody>
</table>

<script>
  function createRandomPromise() {
    return new Promise((resolve) => {
      const randomTime = Math.floor(Math.random() * 3000) + 1000; // Random time between 1 and 3 seconds
      setTimeout(() => {
        resolve(randomTime / 1000); // Resolving with time taken in seconds
      }, randomTime);
    });
  }

  const promises = [createRandomPromise(), createRandomPromise(), createRandomPromise()];

  const loadingRow = document.getElementById("loading");

  Promise.all(promises)
    .then((results) => {
      const tableBody = document.getElementById("output");
      if (tableBody) {
        tableBody.removeChild(loadingRow); // Remove loading row

        results.forEach((time, index) => {
          const row = document.createElement("tr");
          const promiseCell = document.createElement("td");
          promiseCell.textContent = `Promise ${index + 1}`;
          const timeCell = document.createElement("td");
          timeCell.textContent = time.toFixed(3); // Display time with 3 decimal places
          row.appendChild(promiseCell);
          row.appendChild(timeCell);
          tableBody.appendChild(row);
        });

        // Calculate and display total time
        const totalTime = results.reduce((acc, curr) => acc + curr, 0);
        const totalRow = document.createElement("tr");
        const totalCell = document.createElement("td");
        totalCell.textContent = "Total";
        const totalTimeCell = document.createElement("td");
        totalTimeCell.textContent = totalTime.toFixed(3);
        totalRow.appendChild(totalCell);
        totalRow.appendChild(totalTimeCell);
        tableBody.appendChild(totalRow);
      }
    })
    .catch((error) => {
      console.error("Error:", error);
    });
</script>

</body>
</html>
